@use "sass:color";
@use "normalize";

$gray: rgb(157, 161, 172);
$background: #FFF;
$dark: rgb(246, 171, 25);
$primary: rgb(247, 215, 0);
$secondary: rgb(252, 127, 127);

//Color coding:

$frame:rgb(133, 61, 15);
$glazing: rgba(95, 224, 135, 0.25);
$spacer:#f6a654;
$mats:#d1d1d1;
$backing:#77D1F4;
$additional:rgb(252, 127, 127);
$strainer:#ffe34e;
$artwork:rgb(36, 86, 122);


html {
	font-family: 'Anonymous Pro', monospace;
	font-size:100%;
	font-size: 18px;
	@media screen and (max-width:70em) {
		font-size: 16px;
	}
	@media screen and (max-width:45em) {
		font-size: 14px;
	}
}
body {
	display: flex;
	align-items: stretch;
	background-color: #ffffff;
background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%23c5eaf7' fill-opacity='0.5'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");


img {
	max-width:100%;
	max-height:100%;
}
}
%smallScreen100 {
	@media screen and (max-width: 45em) {
		width:100% !important;
		height:auto !important;
	}
}
main {
	width:100%;
	display: flex;
	align-items: stretch;
	box-sizing:border-box;
	@media screen and (max-width:45em) {
		flex-direction: column;
		align-items:flex-start;
		// height:90vh;
	}
}
svg {
	width:80%;
	height:auto;
	margin-bottom:-10vh;
	#key {
		display:none;
		visiblity:hidden;
	}
	// [id^="measurement-"] {
	// 	font-size: 3pt;
	// 	word-spacing: 0.5em;
	// }
	// #remainder-title, #measurement-remainder {
	// 	font-size: 3.5pt;
	// }
	// #diagram-note {
	// 	font-size: 2.25pt;
	// 	fill: $gray;
	// 	font-style:italic;
	// }
	// #measurement-rabbet {
	// 	font-size: 5pt;
	// }
	// .x-marks-thespot {
	// 	stroke-width:0.5;
	// 	stroke:#FFF;
	// }
}
section {
	display:flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	box-sizing: border-box;
	@media screen and (max-width:45em) {
		width:100%;
		height:auto;
	}
}
.diagram {
	width:75%;
	height:100vh;
	overflow:hidden;
	@media screen and (max-width:70em) {
		width:60%;
	}
	@media screen and (max-width:45em) {
		width:100%;
		overflow:visible;
		height:50vh;
		padding:0;
		svg {
			width:100%;
			max-height:100%;
		}
	}
}
.form {
	height:100vh;
	overflow:auto;
	width:25%;
	border-left:1px solid $gray;
	@media screen and (max-width:70em) {
		width:40%;
	}
	@media screen and (max-width:45em) {
		width:100%;
		height:50vh;
		border-left:none;
	}
}

form {
	text-align:right;
	padding: 1.5em;
	box-sizing: border-box;
	width:100%;
	max-height:100vh;
	overflow:auto;
	section {
		// white-space: nowrap;
		width:100%;
		padding:0;
		display:flex;
		flex-direction: row;
		// margin:0.5em 0;
		position:relative;
		align-items: center;
		justify-content: center;
		padding-left: 1.5em;
		border-bottom:2px solid $gray;

		&:before {
			content:' ';
			width:1rem;
			height:1rem;
			font-size:0;
			border-radius:50%;
			background-color:yellow;
			position:absolute;
			left:0;
			flex-shrink:0;
			flex-grow:0;
			// top:50%;
			// left:0.25em;
		}

		&.frame {
			&:before {
				background: $frame;
			}
		}
		&.glazing {
			&:before {
				background: $glazing;
				box-sizing:border-box;
			}
		}
		&.spacer {
			&:before {
				background:$spacer;
			}
		}
		&.matting {
			// padding-left:2em;
			&:before {
				background: rgb(190,190,190);
				background: linear-gradient(180deg, rgba(190,190,190,1) 50%, rgba(209,209,209,1) 50%);
			}
		}
		&.backing {
			&:before {
				background: $backing;
			}
		}
		&.additional {
			&:before {
				background: $additional;
			}
		}
		&.strainer {
			&:before {
				background: $strainer;
			}
		}
		&.artwork {
			&:before {
				background: rgb(36, 86, 122);
			}
		}
		&.recess {
			margin:0.5em 0;
			border-bottom:0;
			padding:0;
			label {
				flex-basis: 40%;
				text-align:center;
			}
			input {
				flex-basis: 60%
			}
			&:before {
				content:'';
				display:none;
				visibility: hidden;
			}
		}
		&.url {
			padding:0;
			border:0;
			&:before {
				content:'';
				display:none;
				visibility: hidden;
			}
		}
	}

	#url-label {
		width:3rem;
		text-align:center;
		display:flex;
		align-self: stretch;
		align-items: center;
		justify-content: center;
		background: color.scale($gray, $alpha: -80%);
	}
	#url {
		width:auto;
		flex:1;
		min-width:0;
		flex-basis:auto;
		box-sizing:border-box;
		transition:300ms ease;
		font-size: 0.9rem;
		&:focus {
			outline:0;
			background:color.scale($gray, $alpha:-80%, $lightness: 60%);
			transition:300ms ease;
		}
	}
	#url-label {
		span {
			opacity:1;
			transition:opacity 300ms ease;
		}
		&:before {
			content:'copied';
			color: rgb(50, 231, 122);
			text-transform:uppercase;
			position:absolute;
			opacity:0;
			transition:opacity 500ms ease;
		}
	}
	#url-label.copied {
		span {
			opacity:0;
			transition:opacity 300ms ease;
		}
		&:before {
			display:block;
			opacity:1;
			transition:opacity 500ms ease;
		}
	}
	label {
		flex-basis:50%;
		min-width:auto;
		font-size: 80%;
		margin:0 0;
		padding-right: 0.25em;
		color:#000;
		&:first-child {
			margin-top:0;
		}
	}
	.helptext {
		color: $gray;
		margin-top:0.5em;
		font-size: 0.8em;
		font-style:italic;
		max-width:100%;
		white-space: normal;
		text-align:left;
	}
	input, select {
		border-radius:0;
		display:block;
		font-size: 1em;
		padding:10px 0;
		text-align:right;
		border:none;
		min-width:4em;
		// border-bottom:2px solid $gray;
		margin:auto;
		width: 100%;
		background: color.scale($gray, $alpha: -80%);
	}
	input[type="text"],
	input[type="button"]
	input[type="select"] {
		word-spacing: 0.5em;
		-webkit-appearance: none;
		flex-basis:50%;
		padding-right: 10px;
	}
	.top, .bottom {
		text-align:left;
		width:50%;
		display:inline-block;
		box-sizing:border-box;
	}
	.top {
		border-right:2px solid $gray;
		padding-right:0.25em;
	}
	.bottom {
		padding-left: 0.25em;
	}
	input[disabled] {
		// border-bottom:none;
		-webkit-appearance: none;
		// background:rgb(221, 221, 221);
		color: rgb(46, 46, 46);
		opacity: 1;
		// border-radius: 5px;
		font-size:1.5rem;
		padding:10px;
		box-sizing:border-box;
		&.negative {
			color: rgb(255, 93, 93);
		}
	}
}

button {
	background: $primary;
	// margin: 0.5em 0;
	text-align:center;
	width:100%;
	padding:0.5em;
	border:none;
	display:block;
	&.profile-selected {
		background:none;
		display:flex;
		flex-direction:row;
		align-items: center;
		justify-content: center;
		figure {
			width:50%;
		}
		.name {
			width:50%;
		}
	}
	&#print, &#download {
		width:50%;
		float:left;
		background: color.scale($primary, $lightness: 25%);
		border-bottom: 2px solid color.scale($primary, $lightness: 60%);
	}
	&#print {
		border-right: 2px solid color.scale($primary, $lightness: 60%);
	}
	&:hover {
		cursor: pointer;
	}
}

//
// #svg-glazing {
// 	fill: $glazing;
// }
// #svg-top,
// #svg-bottom {
// 	fill:$mats;
// 	stroke: #FFF;
// 	stroke-width: 0.5;
// 	stroke-miterlimit:10;
// }
// #svg-spacer {
// 	fill:$spacer;
// }
// #svg-board {
// 	fill:$backing;
// }
// #svg-additional {
// 	fill: $additional;
// }
// #svg-strainer {
// 	fill: $strainer;
// }

.footer {
	font-size: 90%;
}
a {
	color: $additional;
}

canvas {
	display:none;
	visiblity:hidden;
}

@media print{

	@page {
		size: landscape;
	}
	body {
		background:none;
	}
section {
	&.form {
		width:30%;

		form {
			label {
				flex-basis:50%;
			}
			input {
				flex-basis: 50%;
			}
			select {
				-webkit-appearance:none;
				appearance:none;
			}
		}
	}
	&.diagram {
		width:70%;
	}
}
button {
	display:none;
}
}

// Frame selection overlay!
body {
	.overlay {
		display:flex;
		opacity:0;
		position:absolute;
		width: 75%;
		height: 100vh;
		background:rgba(200,200,200, 0.3);
		backdrop-filter: blur(3px);
		z-index:99;
		transition: opacity 200ms ease-in-out;

		@media screen and (max-width:70em) {
			width:60%;
		}
		@media screen and (max-width:45em) {
			width:100%;
			height:100vh;
			background:rgb(255, 255, 255);
			padding-top:3.5em;
		}

		&.show {
			opacity:1;
			transition: opacity 200ms ease-in-out;
		}
		&.hide {
			opacity:0;
			display:none;
			transition: opacity 200ms ease-in-out;
		}
		#branding {
			display:flex;
			max-height:5em;
			flex-direction: row;
			text-align:left;
			figure {
				flex-basis: 33.333333%;
				padding: 1em;
				max-height:5em;
				margin:0;
				img {
					max-height:3em;
				}
			}
			h2 {
				flex-basis: 66.66666%;
				margin:0;
				font-weight:400;
			}
		}
		.close {
			width:2em;
			height:2em;
			position:absolute;
			z-index: 999;
			top:1em;
			right:1em;

			@media screen and (max-width:70em) {
				top:1em;
				right: 0.75em;
			}
			@media screen and (max-width:45em) {
				position:fixed;
				// display:block;
				top:1em;
				right:1em;
			}
			svg#X {
				margin:0;
				line {
					stroke: rgb(108, 139, 149);
					stroke-width: 5;
				}
			}
		}
		.instructions {
			position:sticky;
			top: 0;
			text-align:center;
			z-index: 99;
			background:rgba(255, 255, 255, 0.75);
			backdrop-filter:blur(4px);
			line-height:1;
			margin:0;
			ul {
				list-style-type: none;
				display:block;
				white-space: nowrap;
				overflow-x:scroll;
				overflow-y:hidden;
				width:100%;
				padding:1em 0;
				margin:0;
				-ms-overflow-style: none;  /* IE and Edge */
				scrollbar-width: none;  /* Firefox */
				&::-webkit-scrollbar {
					display:none;
				}
				li {
					display:inline-block;
					a {
						padding:0.5em 1em;
						text-decoration: none;
						background:$primary;
						color:#000;
						border-radius:2em;
					}
				}
			}
		}
		.wrapper {
			overflow-y:scroll;
			height:100%;
			scroll-behavior: smooth;
			-ms-overflow-style: none;  /* IE and Edge */
			scrollbar-width: none;  /* Firefox */
			&::-webkit-scrollbar {
				display:none;
			}
		}
		.frame-selector {
			width:80%;
			height:80vh;
			position:relative;
			overflow:hidden;
			align-self: center;
			background:#FFF;
			box-sizing: border-box;
			box-shadow: 0 0 40px -10px rgba(156, 156, 156, 0.8);
			border-radius:10px;
			@media screen and (max-width:70em) {
				width:90%;
				height:90vh;
			}
			@media screen and (max-width:45em) {
				top:0;
				width:100%;
				height:100vh;
				background:none;
			}
			.buttons {
				width:100%;
				position:absolute;
				text-align:center;
				padding:0;
				box-sizing: border-box;
				z-index: 9999;
				padding: 1em 0;
				bottom:0;
				left:0;
				background:rgba(255, 255, 255, 0.75);
				backdrop-filter:blur(4px);
				&.show {
					display:block;
				}
				&.hide {
					display:none;
				}
				.button {
					padding:0.5em 1em;
					display:inline-block;
					text-decoration: none;
					background:$primary;
					color:#000;
					// border-radius:2em;
				}
			}
		}
		form {
			overflow:visible;
			padding:1em;
			height:auto;
			max-height:none;
			section {
				display:flex;
				flex-wrap: wrap;
				flex:1;
				flex-direction: row;
				padding:1em 0 0;
				&:before {
					display:none;
				}
				&:last-child {
					border-bottom:0;
					padding-bottom:4em;
				}
				h4 {
					flex-basis:100%;
					text-align:center;
					position:sticky;
					top: 3em;
					background:rgba(255, 255, 255, 0.75);
					backdrop-filter:blur(4px);
					padding:0.5em 0;
					width:100%;
				}
			}
			input[type="radio"] {
				max-width:1rem;
				display:none;
				&:checked+label {
					border: 1px solid color.adjust($secondary, $alpha:-0.4);
					box-shadow: 0 0 7px 1px $secondary;
					background:#FFF;
					border-radius:7px;
					transition: box-shadow 300ms ease-out, border 400ms ease-out, border-radius 150ms ease-out, font-weight 300ms ease-out;
					font-weight:700;
				}
			}
			label {
				flex-basis: calc(20% - 1em);
				background:none;
				align-self:stretch;
				display:flex;
				flex-direction: column-reverse;
				justify-content: center;
				align-items: center;
				box-sizing: border-box;
				padding:0.5em;
				margin:0.5em;
				border-radius:0;
				box-shadow: 0 0;
				border: 1px solid transparent;
				transition: box-shadow 100ms ease-in, border 100ms ease-in, border-radius 150ms ease-in, font-weight 300ms ease-out;
				@media screen and (max-width:45em) {
					flex-basis: calc(33% - 1em);
				}
				&:hover {
					cursor: pointer;
				}
			}
			figure {
				width:100%;
				flex-basis:100%;
				display:flex;
				align-items: center;
				padding:0;
				margin:1em 0 0;
				align-self:stretch;
				img {
					max-width:100%;
				}
			}
			.name {
				flex-grow: 0;
				flex-shrink:0;
				padding:0.5em 1em;
				// font-weight:700;
				background: $secondary;
				border-radius: 2em;
				color:#FFF;
			}
		}
	}
}
